<!DOCTYPE html>
<html lang="en"><!--
 __  __                __                                     __
/\ \/\ \              /\ \             __                    /\ \
\ \ \_\ \   __  __    \_\ \      __   /\_\      __       ___ \ \ \/'\
 \ \  _  \ /\ \/\ \   /'_` \   /'__`\ \/\ \   /'__`\    /'___\\ \ , <
  \ \ \ \ \\ \ \_\ \ /\ \L\ \ /\  __/  \ \ \ /\ \L\.\_ /\ \__/ \ \ \\`\
   \ \_\ \_\\/`____ \\ \___,_\\ \____\ _\ \ \\ \__/.\_\\ \____\ \ \_\ \_\
    \/_/\/_/ `/___/> \\/__,_ / \/____//\ \_\ \\/__/\/_/ \/____/  \/_/\/_/
                /\___/                \ \____/
                \/__/                  \/___/

Powered by Hydejack v9.1.6 <https://hydejack.com/>
-->







<head>
  






  
    
<!-- Begin Jekyll SEO tag v2.8.0 -->
<title>queue-microtask [![ci][ci-image]][ci-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![javascript style guide][standard-image]][standard-url] | Youngman</title>
<meta name="generator" content="Jekyll v3.9.3" />
<meta property="og:title" content="queue-microtask [![ci][ci-image]][ci-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![javascript style guide][standard-image]][standard-url]" />
<meta name="author" content="Youngeon" />
<meta property="og:locale" content="en" />
<meta name="description" content="Hydejack is a boutique Jekyll theme for hackers, nerds, and academics, with a focus on personal sites that are meant to impress." />
<meta property="og:description" content="Hydejack is a boutique Jekyll theme for hackers, nerds, and academics, with a focus on personal sites that are meant to impress." />
<link rel="canonical" href="http://localhost:4000/node_modules/queue-microtask/" />
<meta property="og:url" content="http://localhost:4000/node_modules/queue-microtask/" />
<meta property="og:site_name" content="Youngman" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="queue-microtask [![ci][ci-image]][ci-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![javascript style guide][standard-image]][standard-url]" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","author":{"@type":"Person","name":"Youngeon"},"dateModified":"2024-11-16T11:51:59+09:00","description":"Hydejack is a boutique Jekyll theme for hackers, nerds, and academics, with a focus on personal sites that are meant to impress.","headline":"queue-microtask [![ci][ci-image]][ci-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![javascript style guide][standard-image]][standard-url]","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/avatar.JPG"},"name":"Youngeon"},"url":"http://localhost:4000/node_modules/queue-microtask/"}</script>
<!-- End Jekyll SEO tag -->


  

  
    <meta name="keywords" content="Robotics">
  



  <meta name="theme-color" content="rgb(25,55,71)">


<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta http-equiv="x-ua-compatible" content="ie=edge">

<meta name="mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-title" content="Youngman">
<meta name="apple-mobile-web-app-status-bar-style" content="default">

<meta name="application-name" content="Youngman">

<meta name="generator" content="Hydejack v9.1.6" />


<link rel="alternate" href="http://localhost:4000/node_modules/queue-microtask/" hreflang="en">

<link type="application/atom+xml" rel="alternate" href="http://localhost:4000/feed.xml" title="Youngman" />


<link rel="shortcut icon"    href="/assets/icons/favicon.ico">
<link rel="apple-touch-icon" href="/assets/icons/icon-192x192.png">

<link rel="manifest" href="/assets/site.webmanifest">

<link rel="dns-prefetch" href="https://fonts.googleapis.com"><link rel="dns-prefetch" href="https://fonts.gstatic.com">


  <link rel="dns-prefetch" href="https://www.google-analytics.com">


<link rel="preload" href="/assets/img/swipe.svg" as="image" id="_hrefSwipeSVG">






<script>!function(r,c){"use strict";function a(e,t,n,o){e.addEventListener?e.addEventListener(t,n,o):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n}r.loadJS=function(e,t){var n=c.createElement("script"),e=(n.src=e,t&&a(n,"load",t,{once:!0}),c.scripts[0]);return e.parentNode.insertBefore(n,e),n},r._loaded=!1,r.loadJSDeferred=function(e,t){var n=c.createElement("script");function o(){r._loaded=!0,t&&a(n,"load",t,{once:!0});var e=c.scripts[0];e.parentNode.insertBefore(n,e)}return n.src=e,r._loaded?o():a(r,"load",o,{once:!0}),n},r.setRel=r.setRelStylesheet=function(e){a(c.getElementById(e),"load",function(){this.rel="stylesheet"},{once:!0})}}(window,document);
!function(a){"use strict";var b=function(b,c,d){function e(a){return h.body?a():void setTimeout(function(){e(a)})}function f(){i.addEventListener&&i.removeEventListener("load",f),i.media=d||"all"}var g,h=a.document,i=h.createElement("link");if(c)g=c;else{var j=(h.body||h.getElementsByTagName("head")[0]).childNodes;g=j[j.length-1]}var k=h.styleSheets;i.rel="stylesheet",i.href=b,i.media="only x",e(function(){g.parentNode.insertBefore(i,c?g:g.nextSibling)});var l=function(a){for(var b=i.href,c=k.length;c--;)if(k[c].href===b)return a();setTimeout(function(){l(a)})};return i.addEventListener&&i.addEventListener("load",f),i.onloadcssdefined=l,l(f),i};"undefined"!=typeof exports?exports.loadCSS=b:a.loadCSS=b}("undefined"!=typeof global?global:this);
!function(a){if(a.loadCSS){var b=loadCSS.relpreload={};if(b.support=function(){try{return a.document.createElement("link").relList.supports("preload")}catch(b){return!1}},b.poly=function(){for(var b=a.document.getElementsByTagName("link"),c=0;c<b.length;c++){var d=b[c];"preload"===d.rel&&"style"===d.getAttribute("as")&&(a.loadCSS(d.href,d,d.getAttribute("media")),d.rel=null)}},!b.support()){b.poly();var c=a.setInterval(b.poly,300);a.addEventListener&&a.addEventListener("load",function(){b.poly(),a.clearInterval(c)}),a.attachEvent&&a.attachEvent("onload",function(){a.clearInterval(c)})}}}(this);
!function(w) {
  w._baseURL = '/';
  w._publicPath = '/assets/js/';
  w._noPushState = true;
  w._noDrawer = false;
  w._noNavbar = false;
  w._noToc = false;
  w._noSearch = false;
  w._search = {
    DATA_URL: '/assets/sitedata.json?no-cache',
    STORAGE_KEY: 'mini-search/',
    INDEX_KEY: 'index--2024-11-20T01:16:56+09:00',
  };
  w._clapButton = true;
}(window);</script>


<script async src="/assets/bower_components/MathJax/es5/tex-mml-chtml.js" id="_MathJax"></script>


<!--[if gt IE 8]><!---->

  




<link rel="stylesheet" href="/assets/css/hydejack-9.1.6.css" id="_stylePreload">
<link rel="stylesheet" href="/assets/icomoon/style.css" id="_iconsPreload">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab:700%7CNoto+Sans+KR:400,400i,700,700i&display=swap" id="_fontsPreload">



  <style id="_pageStyle">

html{--accent-color: rgb(79,177,186);--accent-color-faded: rgba(79,177,186,0.5);--accent-color-highlight: rgba(79,177,186,0.1);--accent-color-darkened: #409ba3;--theme-color: rgb(25,55,71)}

</style>


<!--<![endif]-->





</head>

<body class="dark-mode no-break-layout no-large-headings">
  


<hy-push-state
  id="_pushState"
  replace-selector="#_main"
  link-selector="a[href]:not([href^='/assets/']):not(.external):not(.no-push-state)"
  script-selector="script"
  duration="500"
  hashchange
>
  
  
  <div id="_navbar" class="navbar fixed-top">
  <div class="content">
    <span class="sr-only">Jump to:</span>
    <div class="nav-btn-bar">
      <a id="_menu" class="nav-btn no-hover" href="#_drawer--opened">
        <span class="sr-only">Navigation</span>
        <span class="icon-menu"></span>
      </a>
      <div class="nav-span"></div>
    </div>
  </div>
</div>
<hr class="sr-only" hidden />

  <main
  id="_main"
  class="content layout-page"
  role="main"
>
  <nav id="breadcrumbs" class="screen-only"><ul>
  
  
    <li><a href="/">home</a></li>
    
      <li>
        
          <span>/</span>
          
          
          <a href="/node_modules/">node_modules</a>
        
      </li>
    
      <li>
        
          <span>/</span>
          <span>queue-microtask</span>
        
      </li>
    
  
</ul></nav>
  <article class="page mb6" role="article">
  <header>
    <h1 class="page-title">queue-microtask [![ci][ci-image]][ci-url] [![npm][npm-image]][npm-url] [![downloads][downloads-image]][downloads-url] [![javascript style guide][standard-image]][standard-url]</h1>
    



  <div class="hr pb0"></div>


  </header>

  
<h3 id="fast-tiny-queuemicrotask-shim-for-modern-engines">fast, tiny <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask"><code class="language-plaintext highlighter-rouge">queueMicrotask</code></a> shim for modern engines</h3>

<ul>
  <li>Use <a href="https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/queueMicrotask"><code class="language-plaintext highlighter-rouge">queueMicrotask</code></a> in all modern JS engines.</li>
  <li>No dependencies. Less than 10 lines. No shims or complicated fallbacks.</li>
  <li>Optimal performance in all modern environments
    <ul>
      <li>Uses <code class="language-plaintext highlighter-rouge">queueMicrotask</code> in modern environments</li>
      <li>Fallback to <code class="language-plaintext highlighter-rouge">Promise.resolve().then(fn)</code> in Node.js 10 and earlier, and old browsers (same performance as <code class="language-plaintext highlighter-rouge">queueMicrotask</code>)</li>
    </ul>
  </li>
</ul>

<h2 id="install">install</h2>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm install queue-microtask
</code></pre></div></div>

<h2 id="usage">usage</h2>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">const</span> <span class="nx">queueMicrotask</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">queue-microtask</span><span class="dl">'</span><span class="p">)</span>

<span class="nx">queueMicrotask</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="cm">/* this will run soon */</span> <span class="p">})</span>
</code></pre></div></div>

<h2 id="what-is-queuemicrotask-and-why-would-one-use-it">What is <code class="language-plaintext highlighter-rouge">queueMicrotask</code> and why would one use it?</h2>

<p>The <code class="language-plaintext highlighter-rouge">queueMicrotask</code> function is a WHATWG standard. It queues a microtask to be executed prior to control returning to the event loop.</p>

<p>A microtask is a short function which will run after the current task has completed its work and when there is no other code waiting to be run before control of the execution context is returned to the event loop.</p>

<p>The code <code class="language-plaintext highlighter-rouge">queueMicrotask(fn)</code> is equivalent to the code <code class="language-plaintext highlighter-rouge">Promise.resolve().then(fn)</code>. It is also very similar to <a href="https://nodejs.org/api/process.html#process_process_nexttick_callback_args"><code class="language-plaintext highlighter-rouge">process.nextTick(fn)</code></a> in Node.</p>

<p>Using microtasks lets code run without interfering with any other, potentially higher priority, code that is pending, but before the JS engine regains control over the execution context.</p>

<p>See the <a href="https://html.spec.whatwg.org/multipage/timers-and-user-prompts.html#microtask-queuing">spec</a> or <a href="https://nodejs.org/api/globals.html#globals_queuemicrotask_callback">Node documentation</a> for more information.</p>

<h2 id="who-is-this-package-for">Who is this package for?</h2>

<p>This package allows you to use <code class="language-plaintext highlighter-rouge">queueMicrotask</code> safely in all modern JS engines. Use it if you prioritize small JS bundle size over support for old browsers.</p>

<p>If you just need to support Node 12 and later, use <code class="language-plaintext highlighter-rouge">queueMicrotask</code> directly. If you need to support all versions of Node, use this package.</p>

<h2 id="why-not-use-processnexttick">Why not use <code class="language-plaintext highlighter-rouge">process.nextTick</code>?</h2>

<p>In Node, <code class="language-plaintext highlighter-rouge">queueMicrotask</code> and <code class="language-plaintext highlighter-rouge">process.nextTick</code> are <a href="https://nodejs.org/api/globals.html#globals_queuemicrotask_callback">essentially equivalent</a>, though there are <a href="https://github.com/YuzuJS/setImmediate#macrotasks-and-microtasks">subtle differences</a> that don’t matter in most situations.</p>

<p>You can think of <code class="language-plaintext highlighter-rouge">queueMicrotask</code> as a standardized version of <code class="language-plaintext highlighter-rouge">process.nextTick</code> that works in the browser. No need to rely on your browser bundler to shim <code class="language-plaintext highlighter-rouge">process</code> for the browser environment.</p>

<h2 id="why-not-use-settimeoutfn-0">Why not use <code class="language-plaintext highlighter-rouge">setTimeout(fn, 0)</code>?</h2>

<p>This approach is the most compatible, but it has problems. Modern browsers throttle timers severely, so <code class="language-plaintext highlighter-rouge">setTimeout(…, 0)</code> usually takes at least 4ms to run. Furthermore, the throttling gets even worse if the page is backgrounded. If you have many <code class="language-plaintext highlighter-rouge">setTimeout</code> calls, then this can severely limit the performance of your program.</p>

<h2 id="why-not-use-a-microtask-library-like-immediate-or-asap">Why not use a microtask library like <a href="https://www.npmjs.com/package/immediate"><code class="language-plaintext highlighter-rouge">immediate</code></a> or <a href="https://www.npmjs.com/package/asap"><code class="language-plaintext highlighter-rouge">asap</code></a>?</h2>

<p>These packages are great! However, if you prioritize small JS bundle size over optimal performance in old browsers then you may want to consider this package.</p>

<p>This package (<code class="language-plaintext highlighter-rouge">queue-microtask</code>) is four times smaller than <code class="language-plaintext highlighter-rouge">immediate</code>, twice as small as <code class="language-plaintext highlighter-rouge">asap</code>, and twice as small as using <code class="language-plaintext highlighter-rouge">process.nextTick</code> and letting the browser bundler shim it automatically.</p>

<p>Note: This package throws an exception in JS environments which lack <code class="language-plaintext highlighter-rouge">Promise</code> support – which are usually very old browsers and Node.js versions.</p>

<p>Since the <code class="language-plaintext highlighter-rouge">queueMicrotask</code> API is supported in Node.js, Chrome, Firefox, Safari, Opera, and Edge, <strong>the vast majority of users will get optimal performance</strong>. Any JS environment with <code class="language-plaintext highlighter-rouge">Promise</code>, which is almost all of them, also get optimal performance. If you need support for JS environments which lack <code class="language-plaintext highlighter-rouge">Promise</code> support, use one of the alternative packages.</p>

<h2 id="what-is-a-shim">What is a shim?</h2>

<blockquote>
  <p>In computer programming, a shim is a library that transparently intercepts API calls and changes the arguments passed, handles the operation itself or redirects the operation elsewhere. – <a href="https://en.wikipedia.org/wiki/Shim_(computing)">Wikipedia</a></p>
</blockquote>

<p>This package could also be described as a “ponyfill”.</p>

<blockquote>
  <p>A ponyfill is almost the same as a polyfill, but not quite. Instead of patching functionality for older browsers, a ponyfill provides that functionality as a standalone module you can use. – <a href="https://ponyfoo.com/articles/polyfills-or-ponyfills">PonyFoo</a></p>
</blockquote>

<h2 id="api">API</h2>

<h3 id="queuemicrotaskfn"><code class="language-plaintext highlighter-rouge">queueMicrotask(fn)</code></h3>

<p>The <code class="language-plaintext highlighter-rouge">queueMicrotask()</code> method queues a microtask.</p>

<p>The <code class="language-plaintext highlighter-rouge">fn</code> argument is a function to be executed after all pending tasks have completed but before yielding control to the browser’s event loop.</p>

<h2 id="license">license</h2>

<p>MIT. Copyright (c) <a href="https://feross.org">Feross Aboukhadijeh</a>.</p>

</article>


  <hr class="dingbat related mb6" />





  
<footer class="content" role="contentinfo">
  <hr/>
  
    <p><small class="copyright">© 2024. All rights reserved.
</small></p>
  
  
    <p><small>Powered by <a class="external" href="https://hydejack.com/">Hydejack</a> v<span id="_version">9.1.6</span></small></p>
  <hr class="sr-only"/>
</footer>


</main>

  <hy-drawer
  id="_drawer"
  class=""
  side="left"
  threshold="10"
  noscroll
  
>
  <header id="_sidebar" class="sidebar" role="banner">
    




<div class="sidebar-bg sidebar-overlay" style="background-color:rgb(25,55,71);background-image:url(/assets/img/background.png)"></div>

    <div class="sidebar-sticky">
  <div class="sidebar-about">
    
      <a class="no-hover" href="/" tabindex="-1">
        <img src="/assets/img/avatar.JPG" class="avatar" alt="Youngman" width="120" height="120" loading="lazy" />
      </a>
    
    <a class="sidebar-title" href="/"><h2 class="h1">Youngman</h2></a>
    
    
      <p class="">
        Hello.

      </p>
    
  </div>

  <nav class="sidebar-nav heading" role="navigation">
    <span class="sr-only">Navigation:</span>
<ul>
  
    
      
      <li>
        <a
          id="_drawer--opened"
          href="/robotics/"
          class="sidebar-nav-item "
          
        >
          Robotics
        </a>
      </li>
    
      
      <li>
        <a
          
          href="/mathematics/"
          class="sidebar-nav-item "
          
        >
          Mathematics
        </a>
      </li>
    
      
      <li>
        <a
          
          href="/devops/"
          class="sidebar-nav-item "
          
        >
          DevOps
        </a>
      </li>
    
      
      <li>
        <a
          
          href="/project/"
          class="sidebar-nav-item "
          
        >
          Project
        </a>
      </li>
    
      
      <li>
        <a
          
          href="/about/"
          class="sidebar-nav-item "
          
        >
          About Me
        </a>
      </li>
    
  
</ul>

  </nav>

  
  <div class="sidebar-social">
    <span class="sr-only">Social:</span>
<ul>
  
    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://instagram.com/eeooon_" title="Instagram" class="no-mark-external">
      <span class="icon-instagram"></span>
      <span class="sr-only">Instagram</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="https://github.com/eeoon" title="GitHub" class="no-mark-external">
      <span class="icon-github"></span>
      <span class="sr-only">GitHub</span>
    </a>
  </li>


    
      



  

  
  
  
  

  

  

  <li>
    <a href="mailto:kyu8456@naver.com" title="Email" class="no-mark-external">
      <span class="icon-mail"></span>
      <span class="sr-only">Email</span>
    </a>
  </li>


    
  
</ul>

  </div>
</div>
  </header>
</hy-drawer>
<hr class="sr-only" hidden />

</hy-push-state>


  <!--[if gt IE 10]><!---->
  <script nomodule>!function(){var t,n=document.createElement("script");!("noModule"in n)&&"onbeforeload"in n&&(t=!1,document.addEventListener("beforeload",function(e){if(e.target===n)t=!0;else if(!e.target.hasAttribute("nomodule")||!t)return;e.preventDefault()},!0),n.type="module",n.src=".",document.head.appendChild(n),n.remove())}();
</script>
  <script src="/assets/js/hydejack-9.1.6.js" type="module"></script>
  <script src="/assets/js/LEGACY-hydejack-9.1.6.js" nomodule defer></script>
  

  
  <script>!function(w, d) {
    w.ga=w.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;

    /**/
      ga('create', 'UA-XXXXXXXX-X', 'auto');
    /**/

    var pushStateEl = d.getElementById('_pushState');
    var timeoutId;
    pushStateEl.addEventListener('hy-push-state-load', function() {
      w.clearTimeout(timeoutId);
      timeoutId = w.setTimeout(function() {
        ga('set', 'page', w.location.pathname);
        ga('send', 'pageview');
      }, 500);
    });

    d.addEventListener('hy--cookies-ok', function () {
      w.ga(function(tracker) {
        w.ga("set", "anonymizeIp", undefined);
        localStorage && localStorage.setItem("ga--client-id", tracker.get("clientId"));
      });
    });

    w.loadJSDeferred('https://www.google-analytics.com/analytics.js');
  }(window, document);</script>


<!--<![endif]-->
  



<div hidden>
  
  <h2 class="sr-only">Templates (for web app):</h2>

  <template id="_animation-template">
  <div class="animation-main fixed-top">
    <nav id="breadcrumbs" class="screen-only"><ul>
  
  
</ul></nav>
    <div class="content">
      <div class="page"></div>
    </div>
  </div>
</template>

  <template id="_loading-template">
  <div class="loading nav-btn fr">
    <span class="sr-only">Loading…</span>
    <span class="icon-cog"></span>
  </div>
</template>

  <template id="_error-template">
  <div class="page">
    <h1 class="page-title">Error</h1>
    
    
    <p class="lead">
      Sorry, an error occurred while loading <a class="this-link" href=""></a>.

    </p>
  </div>
</template>

  <template id="_permalink-template">
  <a href="#" class="permalink">
    <span class="sr-only">Permalink</span>
    <span class="content-hash"></span>
  </a>
</template>

</div>


</body>
</html>
